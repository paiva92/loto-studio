import{i as D,j as k,c as I,k as E,f as L,a as V,g as H,l as T,s as w,d as N,m as M,e as y,n as Y,o as q,p as P,q as $,r as j,t as B,u as C,v as W,h as b,w as z,x as F,y as G}from"./runtime.BQfKuRr6.js";import{r as J}from"./svelte-head.CZnZHBhM.js";import{b as K}from"./disclose-version.g5sR0pGJ.js";const Q=new Set,O=new Set;function v(r){var R;var e=this,o=e.ownerDocument,l=r.type,i=((R=r.composedPath)==null?void 0:R.call(r))||[],t=i[0]||r.target,d=0,c=r.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(e===document||e===window)){r.__root=e;return}var u=i.indexOf(e);if(u===-1)return;f<=u&&(d=f)}if(t=i[d]||r.target,t!==e){D(r,"currentTarget",{configurable:!0,get(){return t||o}});try{for(var _,a=[];t!==null;){var s=t.assignedSlot||t.parentNode||t.host||null;try{var n=t["__"+l];if(n!==void 0&&!t.disabled)if(k(n)){var[g,...p]=n;g.apply(t,[r,...p])}else n.call(t,r)}catch(m){_?a.push(m):_=m}if(r.cancelBubble||s===e||s===null)break;t=s}if(_){for(let m of a)queueMicrotask(()=>{throw m});throw _}}finally{r.__root=e,delete r.currentTarget}}}const U=["wheel","mousewheel","touchstart","touchmove"];function X(r){return U.includes(r)}function tr(r,e){e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function Z(r,e){const o=e.anchor??e.target.appendChild(I());return A(r,{...e,anchor:o})}function ar(r,e){E(),e.intro=e.intro??!1;const o=e.target,l=b,i=y;try{for(var t=L(o);t&&(t.nodeType!==8||t.data!==V);)t=H(t);if(!t)throw T;w(!0),N(t),M();const d=A(r,{...e,anchor:t});if(y===null||y.nodeType!==8||y.data!==Y)throw q(),T;return w(!1),d}catch(d){if(d===T)return e.recover===!1&&P(),E(),$(o),w(!1),Z(r,e);throw d}finally{w(l),N(i),J()}}const h=new Map;function A(r,{target:e,anchor:o,props:l={},events:i,context:t,intro:d=!0}){E();var c=new Set,f=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!c.has(n)){c.add(n);var g=X(n);e.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};f(j(Q)),O.add(f);var u=void 0,_=B(()=>(C(()=>{if(t){W({});var a=G;a.c=t}i&&(l.$$events=i),b&&K(o,null),u=r(o,l)||{},b&&(z.nodes_end=y),t&&F()}),()=>{for(var a of c){e.removeEventListener(a,v);var s=h.get(a);--s===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,s)}O.delete(f),S.delete(u)}));return S.set(u,_),u}let S=new WeakMap;function nr(r){const e=S.get(r);e&&e()}export{ar as h,Z as m,tr as s,nr as u};
